
<div class="grid">
    <div class="col-12">
        
        <div class="card px-6 py-6">
            <div>
                <h2 class="m-4">Nuevo Abono</h2>
            </div> 
            
                <div class="grid">
                    <div class="col-12">
                        <div class="card px-6 py-6">
                            <!-- Primera fila -->
                            <div class="formgrid grid">
                                <div class="field col">
                                    <label for="idVenta">Id Venta</label>
                                    <input type="text" pInputText placeholder="01" [disabled]="true" />
                                </div>
                                <div class="field col">
                                    <label for="cliente">Cliente</label>
                                    <input type="text" pInputText placeholder="Textiles S.A.S." [disabled]="true" />
                                </div>
                            </div>
                            <!-- Segunda fila -->
                            <div class="formgrid grid">
                                <div class="field col">
                                    <label for="total">Total</label>
                                    <div class="p-inputgroup">
                                        <span class="p-inputgroup-addon">$</span>
                                        <p-inputNumber inputId="total" placeholder="500000" [disabled]="true"></p-inputNumber>
                                    </div>
                                </div>
                                <div class="field col">
                                    <label for="abonado">Abonado</label>
                                    <div class="p-inputgroup">
                                        <span class="p-inputgroup-addon">$</span>
                                        <p-inputNumber inputId="abonado" placeholder="200000" [disabled]="true"></p-inputNumber>
                                    </div>
                                </div>
                                <div class="field col">
                                    <label for="restante">Restante</label>
                                    <div class="p-inputgroup">
                                        <span class="p-inputgroup-addon">$</span>
                                        <p-inputNumber inputId="restante" placeholder="300000" [disabled]="true"></p-inputNumber>
                                    </div>
                                </div>
                            </div>
                            <!-- Tercera fila -->
                            <div class="formgrid grid">
                                <div class="field col">
                                    <label for="fecha">Fecha</label>
                                    <div class="p-inputgroup">
                                        <p-calendar [showIcon]="true" inputId="fecha" placeholder="14/11/2023" ></p-calendar>
                                    </div>
                                </div>
                                <div class="field col">
                                    <label for="valorAbono">Valor Abono</label>
                                    <div class="p-inputgroup">
                                        <span class="p-inputgroup-addon">$</span>
                                        <p-inputNumber inputId="valorAbono" [(ngModel)]="value8" placeholder="000.000.000"></p-inputNumber>
                                    </div>
                                </div>
                                <button (click)="confirm2($event)" pButton icon="pi pi-plus" class="p-button-rounded p-button-success"></button>
                                    <p-confirmPopup key="confirm2"></p-confirmPopup>
                                
                            </div>
                            <!-- Botones -->
                            <div class="formgrid grid">
                                <div class="field col" style="display: flex; justify-content: flex-end;">
                                    <button (click)="navigateToVentaList()" pButton pRipple type="button" label="Regresar" class="p-button-rounded p-button-info"></button>
                                </div>
                            </div>
                            
                            <p-toast></p-toast>
                        </div>
                    </div>
                </div>
                
                    <p-dialog
                    [(visible)]="showConfirmationDialog"
                    header="Confirmación"
                    [modal]="true"
                    [closable]="false"
                    >
                    <p>
                        ¿Está seguro de que desea
                        {{ abonoVentaSeleccionado?.venta ? 'activar' : 'desactivar' }} el cliente?
                    </p>
                    <button pButton type="button" label="Sí" icon="pi pi-check" (click)="confirmAction(true)"></button>
                    <button pButton type="button" label="No" icon="pi pi-times" (click)="confirmAction(false)"></button>
                </p-dialog>
        
                <div class="col-12">
                    <div class="card">
                        <h5>Lista Abonos de Venta</h5>
                        <p-table  scrollDirection="both" [scrollable]="true" scrollHeight="400px" styleClass="mt-3" responsiveLayout="scroll">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th style="width:200px" pFrozenColumn>Id Abono</th>
                                    <th style="width:200px" >Fecha</th>
                                    <th style="width:200px" pFrozenColumn alignFrozen="right">Valor</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-customer>
                                <tr>
                                    <td style="width:200px" pFrozenColumn class="font-bold">{{abonoVenta.id}}</td>
                                    <td style="width:200px">{{abonoVenta.fechaAbono}}</td>
                                    <td style="width:200px" pFrozenColumn  class="font-bold" alignFrozen="right">{{formatCurrency(customer.balance)}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
                  
                 

                
                    
                                
                    

<!--
                <ng-template pTemplate="right">
                    <button pButton pRipple label="Exportar" icon="pi pi-upload" class="p-button-help" (click)="exportToExcel()"></button>
                </ng-template>

            <form [formGroup]="formAbonoVenta" (ngSubmit)="addAbonoVenta()">
                <div class="formgrid grid">
                    <div class="field col">
                        <p-dropdown formControlName="venta" placeholder="Venta" [showClear]="true"></p-dropdown>
                        <span *ngIf="formAbonoVenta.get('venta')?.hasError('required') && formAbonoVenta.get('venta')?.touched">
                            La venta es <strong>requerida</strong>
                        </span>
                    </div>
                    <div class="field col">
                        <p-dropdown formControlName="venta" placeholder="Venta" [showClear]="true"></p-dropdown>
                        <span *ngIf="formAbonoVenta.get('venta')?.hasError('required') && formAbonoVenta.get('venta')?.touched">
                            La venta es <strong>requerida</strong>
                        </span>
                    </div>
                    <div class="field col">
                        <p-dropdown formControlName="venta" placeholder="Venta" [showClear]="true"></p-dropdown>
                        <span *ngIf="formAbonoVenta.get('venta')?.hasError('required') && formAbonoVenta.get('venta')?.touched">
                            La venta es <strong>requerida</strong>
                        </span>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-3">
                            <label for="valorInput">Id venta</label>
                            <input type="number" class="form-control" id="idVenta" placeholder="2001" readonly>
                        </div>
                    </div>
                </div>

                <div class="formgrid grid">
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="numeroIdentificacion" id="numeroIdentificacion" type="text" pInputText>
                            <label for="numeroIdentificacion">N° Identificación</label>
                        </span>
                        <span *ngIf="formAbonoVenta.get('numeroIdentificacion')?.hasError('required') && formAbonoVenta.get('numeroIdentificacion')?.touched">
                            El número de Identificación es <strong>requerido</strong>
                        </span>
                    </div>
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="razonSocial" id="razonSocial" type="text" pInputText>
                            <label for="razonSocial">Razon Social</label>
                        </span>
                        <span *ngIf="formAbonoVenta.get('razonSocial')?.hasError('required') && formAbonoVenta.get('razonSocial')?.touched">
                            La Razon Social es <strong>requerida</strong>
                        </span>
                    </div>
                </div>

                <div class="formgrid grid">
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="nombreComercial" id="nombreComercial" type="text" pInputText>
                            <label for="nombreComercial">Nombre Comercial</label>
                        </span>
                        <span *ngIf="formAbonoVenta.get('nombreComercial')?.hasError('required') && formAbonoVenta.get('nombreComercial')?.touched">
                            El Nombre Comercial es <strong>requerido</strong>
                        </span>
                    </div>
                    <div class="field col">
                        <p-autoComplete formControlName="ciudad" placeholder="Ciudad" [(ngModel)]="selectedCountryAdvanced" [suggestions]="filteredCountries" (completeMethod)="filterCountry($event)" field="name" [dropdown]="true">
                        </p-autoComplete>
                        <span *ngIf="formAbonoVenta.get('ciudad')?.hasError('required') && formAbonoVenta.get('ciudad')?.touched">
                            La ciudad es <strong>requerida</strong>
                        </span>
                    </div>
                </div>

                <div class="formgrid grid">
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="direccion" id="direccion" type="text" pInputText>
                            <label for="direccion">Dirección</label>
                        </span>
                    </div>
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="contacto" id="contacto" type="text" pInputText>
                            <label for="contacto">Contacto</label>
                        </span>
                    </div>
                </div>

                <div class="formgrid grid">
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="telefono" id="telefono" type="text" pInputText>
                            <label for="telefono">Teléfono</label>
                        </span>
                    </div>
                    <div class="field col">
                        <span class="p-float-label">
                            <input formControlName="correo" id="correo" type="text" pInputText>
                            <label for="correo">Email</label>
                        </span>
                    </div>
                </div>

                <div class="formgrid">
                    <p-dropdown formControlName="estado" [options]="estado" [(ngModel)]="selectedEstado" placeholder="Estado" [showClear]="true" [style]="{'width': '48%'}"></p-dropdown>
                </div>

                 Agrega aquí los botones de Cancelar y Guardar
                <div class="row">
                    <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
                    <button type="submit" pButton pRipple label="Guardar" icon="pi pi-check" class="p-button-text"></button>
                </div>
            </form>
            --->
        </div>
<!--        <p-table #dt [value]="listClientes" responsiveLayout="scroll" [rows]="10" [globalFilterFields]="['cliente','ordenTrabajo', 'fechaVenta', 'formaPago', 'valorTotal', 'estadoPago']" [paginator]="true" [rowsPerPageOptions]="[5,10,15]" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowHover]="true" dataKey="id">
            <ng-template pTemplate="caption">
                <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
                    <h5 class="m-0">Lista de Clientes</h5>
                    <span class="block mt-2 md:mt-0 p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="onGlobalFilter(dt, $event)" placeholder="Buscar..." class="w-full sm:w-auto" />
                    </span>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="tipoCliente">Tipo<p-sortIcon field="tipoCliente"></p-sortIcon></th>
                    <th pSortableColumn="numeroIdentificacion">N° Identificación<p-sortIcon field="numeroIdentificacion"></p-sortIcon></th>
                    <th pSortableColumn="razonSocial">Razon Social<p-sortIcon field="razonSocial"></p-sortIcon></th>
                    <th pSortableColumn="telefono">Teléfono<p-sortIcon field="telefono"></p-sortIcon></th>
                    <th pSortableColumn="correo">Email<p-sortIcon field="correo"></p-sortIcon></th>
                    <th pSortableColumn="estado">Estado<p-sortIcon field="estado"></p-sortIcon></th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-cliente>
                <tr>
                    <td style="width:14%; min-width:5rem;"><span class="p-column-title">Tipo</span>
                        {{ cliente.tipoCliente }}
                    </td>
                    <td style="width:14%; min-width:10rem;">
                        <span class="p-column-title">N° Identificación</span>
                        {{ cliente.numeroIdentificacion }}
                    </td>
                    <td style="width:14%; min-width:8rem;">
                        <span class= p-column-title">Razon Social</span>
                        {{ cliente.razonSocial }}
                    </td>
                    <td style="width:14%; min-width:10rem;">
                        <span class="p-column-title">Teléfono</span>
                        {{ cliente.telefono }}
                    </td>
                    <td style="width:14%; min-width:10rem;">
                        <span class="p-column-title">Email</span>
                        {{ cliente.correo }}
                    </td>
                    <td style="width:14%; min-width: 5rem;"><span class="p-column-title">Estado</span>
                        <p-inputSwitch class="mr-2" [(ngModel)]="cliente.estado" (click)="showConfirmation(cliente)"></p-inputSwitch>
                    </td>
                    <td>
                        <div class="flex">
                            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2" (click)="editProduct(cliente.id)"></button>
                        </div>
                    </td>
                </tr>
            </ng-template>
        </p-table>

     
    </div>
    -->


</div>

<!--
INPUT

    DISABLE
    <div class="col-12 mb-2 lg:col-4 lg:mb-0">
        <input type="text" pInputText placeholder="Disabled" [disabled]="true"/>
    </div>

    DISABLE & $
    <div class="col-12 mb-2 lg:col-4 lg:mb-0">
        <span class="p-inputgroup-addon">$</span>
        <input type="text" pInputText placeholder="Disabled" [disabled]="true"/>
    </div>

    CALENDAR
    <h5>Calendar</h5>
    <p-calendar [showIcon]="true" inputId="icon"></p-calendar>


    $$
    <div class="p-inputgroup">
        <span class="p-inputgroup-addon">$</span>
        <input type="text" pInputText placeholder="Price">
    </div>

    000.000.000
    <div class="field col-12 md:col-4">
        <span class="p-float-label">
            <p-inputNumber inputId="inputnumber" [(ngModel)]="value8"></p-inputNumber>
            <label for="inputnumber">InputNumber</label>
        </span>
    </div>
    funcion: 
    value8: any;


BUTTON 
    +
    <button pButton pRipple type="button" icon="pi pi-plus" class="p-button-rounded p-button-success"></button>
    REGRESAR
    <button pButton pRipple type="button" label="Regresar" class="p-button-rounded p-button-info"></button>


    CONFIRMATION
    <p-toast></p-toast>
    <button (click)="confirm2($event)" pButton icon="pi pi-check" label="Confirm"></button>
    <p-confirmPopup key="confirm2"></p-confirmPopup>
        funcion:
        confirm2(event: Event) {
            this.confirmationService.confirm({
                key: 'confirm2',
                target: event.target || new EventTarget,
                message: 'Are you sure that you want to proceed?',
                icon: 'pi pi-exclamation-triangle',
                accept: () => {
                    this.messageService.add({ severity: 'info', summary: 'Confirmed', detail: 'You have accepted' });
                },
                reject: () => {
                    this.messageService.add({ severity: 'error', summary: 'Rejected', detail: 'You have rejected' });
                }
            });
        }




        <div class="col-12 lg:col-6">
            <div class="card z-3">
                <h5>Messages</h5>
                <div class="flex flex-wrap gap-2">
                    <button type="button" pButton (click)="showSuccessViaMessages()" label="Success" class="p-button-success"></button>
                    <button type="button" pButton (click)="showInfoViaMessages()" label="Info" class="p-button-info"></button>
                    <button type="button" pButton (click)="showWarnViaMessages()" label="Warn" class="p-button-warning"></button>
                    <button type="button" pButton (click)="showErrorViaMessages()" label="Error" class="p-button-danger"></button>
                </div>

                <p-messages [value]="msgs"></p-messages>
            </div>
        </div>
        
        
        funciones:
        showErrorViaMessages() {
            this.msgs = [];
            this.msgs.push({ severity: 'error', summary: 'Error Message', detail: 'Validation failed' });
        }

        showSuccessViaMessages() {
            this.msgs = [];
            this.msgs.push({ severity: 'success', summary: 'Success Message', detail: 'Message sent' });
        }


TABLA
    <div class="col-12">
		<div class="card">
			<h5>Frozen Columns</h5>
			<p-toggleButton [(ngModel)]="idFrozen" [onIcon]="'pi pi-lock'" offIcon="pi pi-lock-open" [onLabel]="'Unfreeze Id'" offLabel="Freeze Id" [style]="{'width': '12rem'}"></p-toggleButton>

			<p-table [value]="customers3" scrollDirection="both" [scrollable]="true" scrollHeight="400px" styleClass="mt-3" responsiveLayout="scroll">
				<ng-template pTemplate="header">
					<tr>
						<th style="width:200px" pFrozenColumn>Name</th>
						<th style="width:200px" alignFrozen="left" pFrozenColumn [frozen]="idFrozen">Id</th>
						<th style="width:200px">Country</th>
						<th style="width:200px">Date</th>
						<th style="width:200px">Company</th>
						<th style="width:200px">Status</th>
						<th style="width:200px">Activity</th>
						<th style="width:200px">Representative</th>
						<th style="width:200px" pFrozenColumn alignFrozen="right">Balance</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-customer>
					<tr>
						<td style="width:200px" pFrozenColumn class="font-bold">{{customer.name}}</td>
						<td style="width:200px" alignFrozen="left" pFrozenColumn [frozen]="idFrozen" [ngClass]="{'font-bold': idFrozen}">{{customer.id}}</td>
						<td style="width:200px">
							<img src="assets/demo/images/flag/flag_placeholder.png" [class]="'flag flag-' + customer.country.code" width="30">
							<span class="image-text ml-2">{{customer.country.name}}</span>
						</td>
						<td style="width:200px">{{customer.date}}</td>
						<td style="width:200px">{{customer.company}}</td>
						<td style="width:200px">
							<span [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
						</td>
						<td style="width:200px">{{customer.activity}}</td>
						<td style="width:200px">
							<img [alt]="customer.representative.name" src="assets/demo/images/avatar/{{customer.representative.image}}" width="32" style="vertical-align: middle"/>
							<span class="image-text ml-2">{{customer.representative.name}}</span>
						</td>
						<td style="width:200px" pFrozenColumn  class="font-bold" alignFrozen="right">{{formatCurrency(customer.balance)}}</td>
					</tr>
				</ng-template>
			</p-table>
		</div>
	</div>        
-->