<div
    style="display: flex; justify-content: center; align-items: center; background-size: cover; background-position: center; height: 100vh; background-image: url('assets/layout/images/fondoLogin.png');">
    <div class="w-full surface-card py-8 px-3 sm:px-5"
        style="border-radius: 53px; max-width: 30rem; height: 100%; max-height: 45rem;">


        <div class="text-center mb-5">

            <img src="assets/layout/images/logo.png" class="logo" alt="logo"
                style="max-width: 100px; max-height: 100px;">

            <div class="text-900 text-3xl font-medium mb-3"></div>
            <span class="text-600 font-medium text-xl ">Iniciar Sesión</span>
        </div>
        <div>
            <form [formGroup]="formLogin" (ngSubmit)="login()">
                <div class="" style="margin-top: 40px;">
                    <div class="field col" style="margin-top: 10px;">
                        <small class="p-float-label">
                            <input formControlName="email" type="text" pInputText class="w-full md:w-25rem" input
                                formControlName="email" id="email" type="text" pInputText (input)="validarEmail()"
                                [ngClass]="{'is-invalid': errorMessages.email}" style="padding:1rem">
                            <label for="email">Email*</label>
                            <div *ngIf="errorMessages.email" style="color: red;">
                                {{errorMessages.email}}
                            </div>
                        </small>
                    </div>

                    <div class="field col" style="margin-top: 10px;">
                        <small class="p-float-label">
                            <input formControlName="contrasena" type="password" pInputText class="w-full md:w-25rem"
                                (input)="validarContrasena()" [ngClass]="{'is-invalid': errorMessages.contrasena}"
                                style="padding:1rem">

                            <label for="contrasena">Contraseña*</label>
                            <div *ngIf="errorMessages.contrasena" style="color: red;">
                                {{errorMessages.contrasena}}

                            </div>
                        </small>

                    </div>

                </div>

                <div class="flex align-items-center justify-content-between mb-5 gap-5" style="margin-top: 15px;">
                    <a class="font-medium no-underline ml-2 text-right cursor-pointer" style="color: #4e5fbb;"
                        (click)="openNew()">¿Olvidaste tu contraseña?</a>
                </div>
                <button type="submit" pButton pRipple label="Ingresar" class="w-full p-3 text-xl custom-button"
                    style="background-color: #4e5fbb; color: white; border: 2px solid #4351a2;"></button>

            </form>
        </div>


        <p-dialog header="Recuperar Contraseña" [(visible)]="productDialog"  [modal]="true" [style]="{ 'width': '500px' }">
            <form #loginForm="ngForm" (ngSubmit)="forgotPassword(loginForm)">

                <div class="p-dialog-content">
                    <p class="mt-2">Ingrese su email para recuperar la contraseña</p>
                </div>

                <div class="formgrid grid" class="mt-2" >

                    <div class="field col-12" style="width: 100%;">
                        <span class="p-float-label">
                            <input type="email" name="email" [(ngModel)]="user.email" (input)="validaremail()" pInputText
                                   [ngClass]="{ 'is-invalid': errorMessages1.recuperar }"
                                   style="width: 100%; height: 48px;">
                            <label for="email">Email*</label>
                            <div *ngIf="errorMessages1.recuperar" [style.color]="mensajeColor"  [style.color]="'red'">
                                {{errorMessages1.recuperar}}
                            </div>
                        </span>
                    </div>
                    
                </div>

                <div class="formgrid col grid mt-2 justify-content-end">
                    <p-button label="Cancelar" icon="pi pi-times" [text]="true" (click)="hideDialog()"></p-button>
                    <p-button type="submit" [disabled]="!emailCompleto() || !emailValido" label="Recuperar"
                        icon="pi pi-check"></p-button>
                </div>
            </form>
        </p-dialog>

    </div>
</div>